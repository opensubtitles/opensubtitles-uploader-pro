<!DOCTYPE html>
<html>
<head>
    <title>Minimal Tauri Drag Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: black;
            color: white;
            font-family: monospace;
            font-size: 20px;
        }
        
        #dropzone {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(45deg, red, yellow);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 10px solid lime;
            box-sizing: border-box;
        }
        
        #log {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.9);
            padding: 10px;
            max-height: 200px;
            overflow-y: auto;
            font-size: 12px;
            border: 2px solid white;
        }
    </style>
</head>
<body>
    <div id="dropzone">
        ðŸŽ¯ MINIMAL DRAG TEST<br>
        DRAG FILES ANYWHERE<br>
        dragDropEnabled: false
    </div>
    
    <div id="log">LOG:<br></div>
    
    <script>
        const dropzone = document.getElementById('dropzone');
        const log = document.getElementById('log');
        
        function addLog(msg) {
            const time = new Date().toLocaleTimeString();
            log.innerHTML += `${time}: ${msg}<br>`;
            log.scrollTop = log.scrollHeight;
            console.log(msg);
        }
        
        addLog('ðŸš€ Minimal test started');
        addLog(`Protocol: ${window.location.protocol}`);
        addLog(`UserAgent: ${navigator.userAgent.substring(0, 50)}...`);
        
        // Set up drag handlers on the entire dropzone
        dropzone.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.stopPropagation();
            dropzone.style.background = 'orange';
            dropzone.innerHTML = 'ðŸ”¥ DROPPING... ðŸ”¥';
            addLog('DRAGOVER detected');
        });
        
        dropzone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            e.stopPropagation();
            dropzone.style.background = 'linear-gradient(45deg, red, yellow)';
            dropzone.innerHTML = 'ðŸŽ¯ MINIMAL DRAG TEST<br>DRAG FILES ANYWHERE<br>dragDropEnabled: false';
            addLog('DRAGLEAVE detected');
        });
        
        dropzone.addEventListener('drop', (e) => {
            e.preventDefault();
            e.stopPropagation();
            
            dropzone.style.background = 'lime';
            
            const files = Array.from(e.dataTransfer.files || []);
            addLog(`ðŸŽ‰ DROP SUCCESS! ${files.length} files`);
            
            files.forEach((file, i) => {
                addLog(`File ${i+1}: ${file.name} (${file.size} bytes)`);
            });
            
            dropzone.innerHTML = `ðŸŽ‰ SUCCESS!<br>${files.length} FILES DROPPED!`;
        });
        
        addLog('âœ… Drag handlers registered');
    </script>
</body>
</html>